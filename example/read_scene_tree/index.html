<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Wang Lu" /><link rel="canonical" href="https://skylinestars.github.io/AMRTSDK/example/read_scene_tree/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>åœºæ™¯æ ‘è¯»å– - AMRT SDK æ–‡æ¡£</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u573a\u666f\u6811\u8bfb\u53d6";
        var mkdocs_page_input_path = "example/read_scene_tree.md";
        var mkdocs_page_url = "/AMRTSDK/example/read_scene_tree/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> AMRT SDK æ–‡æ¡£
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">é¦–é¡µ</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">å¿«é€Ÿå¼€å§‹</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../setup/">ç¯å¢ƒé…ç½®</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ç¤ºä¾‹ç¨‹åº</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >è½¬æ¢å™¨ç¤ºä¾‹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../convert_basic/">åŸºç¡€è½¬æ¢</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../convert_with_progress/">è¿›åº¦å›è°ƒ</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../convert_batch/">æ‰¹é‡è½¬æ¢</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../convert_with_options/">è‡ªå®šä¹‰é€‰é¡¹</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >è¯»å–å™¨ç¤ºä¾‹</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../read_basic/">åŸºç¡€è¯»å–</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">åœºæ™¯æ ‘è¯»å–</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#_1">ğŸ“‹ åŠŸèƒ½è¯´æ˜</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_2">åŠŸèƒ½ç‰¹ç‚¹</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_3">ğŸš€ ä½¿ç”¨æ–¹æ³•</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_4">ç¤ºä¾‹è¾“å‡º</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_5">ğŸ“ ä»£ç è¯´æ˜</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-1traversenodes">1. æ–¹å¼1ï¼šä½¿ç”¨TraverseNodes()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-2">2. æ–¹å¼2ï¼šæ‰‹åŠ¨é€’å½’éå†</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-3">3. æ–¹å¼3ï¼šæŒ‰åç§°æŸ¥æ‰¾</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_6">ğŸ” èŠ‚ç‚¹æ•°æ®ç»“æ„</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_7">èŠ‚ç‚¹ç±»å‹</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_8">èŠ‚ç‚¹å…³ç³»</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_9">ğŸ’¡ ä½¿ç”¨æŠ€å·§</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1">1. é™åˆ¶éå†æ·±åº¦</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2">2. åªéå†ç½‘æ ¼èŠ‚ç‚¹</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3">3. æŸ¥æ‰¾ç‰¹å®šç±»å‹èŠ‚ç‚¹</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4">4. è®¡ç®—åœºæ™¯æ ‘æ·±åº¦</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_10">âš ï¸ æ³¨æ„äº‹é¡¹</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">ğŸ“š ç›¸å…³ç¤ºä¾‹</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_12">ğŸ› å¸¸è§é—®é¢˜</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../read_traverse/">åœºæ™¯éå†</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >æ„å»ºå™¨ç¤ºä¾‹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../build_simple_cube/">ç®€å•ç«‹æ–¹ä½“</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../build_scene_tree/">åœºæ™¯æ ‘æ„å»º</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../build_with_materials/">æè´¨æ„å»º</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../build_complex_scene/">å¤æ‚åœºæ™¯</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >åˆå¹¶å™¨ç¤ºä¾‹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../merge_to_one_file/">åˆå¹¶ä¸ºå•æ–‡ä»¶</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >å¯¼å‡ºå™¨ç¤ºä¾‹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../amrt_to_fbx/">AMRTè½¬FBX</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../gltf_to_fbx/">glTFè½¬FBX</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../gltf_to_amrt_direct/">glTFç›´æ¥è½¬AMRT</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API æ–‡æ¡£</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api/">API æ¦‚è§ˆ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >æ ¸å¿ƒç±»</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/generated_AmrtConverter/">AmrtConverter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/AmrtReader/">AmrtReader</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/AmrtBuilder/">AmrtBuilder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/AmrtMerger/">AmrtMerger</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >è½¬æ¢æ¨¡å—</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ConvertOptions/">ConvertOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ConvertStatistics/">ConvertStatistics</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >è¯»å–æ¨¡å—</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ReadOptions/">ReadOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/SceneData/">SceneData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/NodeData/">NodeData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/SceneInfo/">SceneInfo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/SceneStatistics/">SceneStatistics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/ReadProgressInfo/">ReadProgressInfo</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >æ„å»ºæ¨¡å—</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BuildOptions/">BuildOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/MeshData/">MeshData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/MaterialData/">MaterialData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/TextureData/">TextureData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/AnimationData/">AnimationData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BoneData/">BoneData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/SkinData/">SkinData</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BuildStatistics/">BuildStatistics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BuildProgressInfo/">BuildProgressInfo</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >åˆå¹¶æ¨¡å—</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/MergeOptions/">MergeOptions</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >ä¼˜åŒ–é€‰é¡¹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/OptimizationOptions/">OptimizationOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/MeshOptimizationOptions/">MeshOptimizationOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/CompressionOptions/">CompressionOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/MaterialOptions/">MaterialOptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/AnimationOptions/">AnimationOptions</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >åŸºç¡€ç±»å‹</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Vec2/">Vec2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Vec3/">Vec3</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Vec4/">Vec4</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Matrix4x4/">Matrix4x4</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BoundingBox/">BoundingBox</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Face/">Face</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/KeyFrame/">KeyFrame</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/BoneWeight/">BoneWeight</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >ç»“æœä¸å¼‚å¸¸</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Result/">Result</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/Exception/">Exception</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/FileException/">FileException</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/FormatException/">FormatException</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../api/DataException/">DataException</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">AMRT SDK æ–‡æ¡£</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">ç¤ºä¾‹ç¨‹åº</li>
          <li class="breadcrumb-item">è¯»å–å™¨ç¤ºä¾‹</li>
      <li class="breadcrumb-item active">åœºæ™¯æ ‘è¯»å–</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/skylinestars/AMRTSDK/edit/master/docs/example/read_scene_tree.md">Edit on skylinestars/AMRTSDK</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="6">ç¤ºä¾‹6ï¼šåœºæ™¯æ ‘éå†<a class="headerlink" href="#6" title="Permanent link">&para;</a></h1>
<h2 id="_1">ğŸ“‹ åŠŸèƒ½è¯´æ˜<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•éå†AMRTæ¨¡å‹çš„åœºæ™¯æ ‘ç»“æ„ï¼Œæ¼”ç¤ºäº†ä¸‰ç§ä¸åŒçš„éå†æ–¹å¼ã€‚</p>
<h3 id="_2">åŠŸèƒ½ç‰¹ç‚¹<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<ul>
<li>âœ… <strong>æ–¹å¼1</strong>ï¼šä½¿ç”¨<code>TraverseNodes()</code>è‡ªåŠ¨éå†</li>
<li>âœ… <strong>æ–¹å¼2</strong>ï¼šæ‰‹åŠ¨é€’å½’éå†ï¼ˆæ˜¾ç¤ºå±‚çº§ç»“æ„ï¼‰</li>
<li>âœ… <strong>æ–¹å¼3</strong>ï¼šæŒ‰åç§°æŸ¥æ‰¾ç‰¹å®šèŠ‚ç‚¹</li>
<li>âœ… æ˜¾ç¤ºèŠ‚ç‚¹å±‚çº§å…³ç³»</li>
<li>âœ… æ˜¾ç¤ºèŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯</li>
<li>âœ… ç»Ÿè®¡èŠ‚ç‚¹ç±»å‹åˆ†å¸ƒ</li>
</ul>
<h2 id="_3">ğŸš€ ä½¿ç”¨æ–¹æ³•<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<pre class="highlight"><code class="language-bash">read_scene_tree model_folder</code></pre>
<h3 id="_4">ç¤ºä¾‹è¾“å‡º<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code>=== AMRT åœºæ™¯æ ‘éå†ç¤ºä¾‹ ===

æ¨¡å‹è·¯å¾„: model_folder
åŠ è½½æ¨¡å‹...
âœ“ åŠ è½½æˆåŠŸï¼

åœºæ™¯åç§°: MyModel
èŠ‚ç‚¹æ€»æ•°: 150
æ ¹èŠ‚ç‚¹æ•°: 3

=== æ–¹å¼1ï¼šä½¿ç”¨TraverseNodeséå† ===
[1] RootNode_1 [ç©ºèŠ‚ç‚¹] (å­èŠ‚ç‚¹: 15)
[2] ChildNode_1 [ç½‘æ ¼èŠ‚ç‚¹: 2ä¸ªç½‘æ ¼]
[3] ChildNode_2 [ç½‘æ ¼èŠ‚ç‚¹: 1ä¸ªç½‘æ ¼] (å­èŠ‚ç‚¹: 3)
[4] GrandChild_1 [ç©ºèŠ‚ç‚¹]
[5] GrandChild_2 [ç½‘æ ¼èŠ‚ç‚¹: 1ä¸ªç½‘æ ¼]

éå†å®Œæˆ: å…± 150 ä¸ªèŠ‚ç‚¹
æœ€å¤§æ·±åº¦: 5

=== æ–¹å¼2ï¼šæ˜¾ç¤ºå®Œæ•´å±‚çº§ç»“æ„ ===
åœºæ™¯æ ‘:
RootNode_1 (15)
  â””â”€ ChildNode_1 [M:2]
  â””â”€ ChildNode_2 [M:1] (3)
    â””â”€ GrandChild_1
    â””â”€ GrandChild_2 [M:1]
    â””â”€ GrandChild_3 [M:1]
  â””â”€ ChildNode_3 [M:3]
  â””â”€ ... (12 ä¸ªå­èŠ‚ç‚¹)
RootNode_2 (8)
  â””â”€ ChildNode_10 [M:1]
  â””â”€ ChildNode_11
  â””â”€ ... (6 ä¸ªå­èŠ‚ç‚¹)

=== æ–¹å¼3ï¼šæŒ‰åç§°æŸ¥æ‰¾èŠ‚ç‚¹ ===
æŸ¥æ‰¾èŠ‚ç‚¹: "RootNode_1"
âœ“ æ‰¾åˆ°èŠ‚ç‚¹ï¼
  èŠ‚ç‚¹åç§°: RootNode_1
  çˆ¶èŠ‚ç‚¹ç´¢å¼•: -1 (æ ¹èŠ‚ç‚¹)
  å­èŠ‚ç‚¹æ•°: 15
  ç±»å‹: ç©ºèŠ‚ç‚¹ï¼ˆæ— ç½‘æ ¼ï¼‰
  å¹³ç§»: (0.00, 0.00, 0.00)

=== èŠ‚ç‚¹ç±»å‹ç»Ÿè®¡ ===
æ€»èŠ‚ç‚¹æ•°: 150
ç½‘æ ¼èŠ‚ç‚¹: 80 (53.3%)
ç©ºèŠ‚ç‚¹: 70 (46.7%)

âœ“ ç¤ºä¾‹æ‰§è¡Œå®Œæˆï¼</code></pre>
<h2 id="_5">ğŸ“ ä»£ç è¯´æ˜<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<h3 id="1-1traversenodes">1. æ–¹å¼1ï¼šä½¿ç”¨TraverseNodes()<a class="headerlink" href="#1-1traversenodes" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">reader-&gt;TraverseNodes([](const amrt::NodeData* node) {
    std::cout &lt;&lt; node-&gt;name &lt;&lt; std::endl;

    // è¿”å›trueç»§ç»­éå†ï¼Œè¿”å›falseåœæ­¢
    return true;
});</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š
- è‡ªåŠ¨æ·±åº¦ä¼˜å…ˆéå†
- æœ€ç®€å•çš„éå†æ–¹å¼
- å¯ä»¥é€šè¿‡è¿”å›falseæå‰ç»ˆæ­¢</p>
<h3 id="2-2">2. æ–¹å¼2ï¼šæ‰‹åŠ¨é€’å½’éå†<a class="headerlink" href="#2-2" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">void TraverseRecursive(const NodeData* node, int depth) {
    PrintNode(node, depth);

    // è®¿é—®å­èŠ‚ç‚¹
    const auto* scene = reader-&gt;GetSceneData();
    for (size_t childIndex : node-&gt;children) {
        TraverseRecursive(&amp;scene-&gt;nodes[childIndex], depth + 1);
    }
}</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š
- å®Œå…¨æ§åˆ¶éå†è¿‡ç¨‹
- å¯ä»¥æ˜¾ç¤ºå±‚çº§ç»“æ„
- å¯ä»¥æ§åˆ¶æ·±åº¦å’ŒèŒƒå›´</p>
<h3 id="3-3">3. æ–¹å¼3ï¼šæŒ‰åç§°æŸ¥æ‰¾<a class="headerlink" href="#3-3" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">const auto* node = reader-&gt;FindNodeByName("NodeName");
if (node) {
    // æ‰¾åˆ°èŠ‚ç‚¹
    std::cout &lt;&lt; "èŠ‚ç‚¹: " &lt;&lt; node-&gt;name &lt;&lt; std::endl;
}</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š
- å¿«é€ŸæŸ¥æ‰¾ï¼ˆä½¿ç”¨ç´¢å¼•ï¼‰
- O(log n)æ—¶é—´å¤æ‚åº¦
- é€‚åˆå·²çŸ¥èŠ‚ç‚¹åç§°çš„æƒ…å†µ</p>
<h2 id="_6">ğŸ” èŠ‚ç‚¹æ•°æ®ç»“æ„<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<pre class="highlight"><code class="language-cpp">struct NodeData {
    std::string name;               // èŠ‚ç‚¹åç§°
    int parentIndex;                // çˆ¶èŠ‚ç‚¹ç´¢å¼•ï¼ˆ-1è¡¨ç¤ºæ ¹èŠ‚ç‚¹ï¼‰
    std::vector&lt;size_t&gt; children;   // å­èŠ‚ç‚¹ç´¢å¼•åˆ—è¡¨
    std::vector&lt;size_t&gt; meshIndices;// å…³è”çš„ç½‘æ ¼ç´¢å¼•
    Matrix4x4 transform;            // å˜æ¢çŸ©é˜µ
    uint32_t flags;                 // æ ‡å¿—ä½
};</code></pre>
<h3 id="_7">èŠ‚ç‚¹ç±»å‹<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>ç½‘æ ¼èŠ‚ç‚¹</strong>ï¼š<code>meshIndices</code>ä¸ä¸ºç©ºï¼ŒåŒ…å«å®é™…å‡ ä½•æ•°æ®</li>
<li><strong>ç©ºèŠ‚ç‚¹</strong>ï¼š<code>meshIndices</code>ä¸ºç©ºï¼Œç”¨äºç»„ç»‡åœºæ™¯å±‚çº§</li>
<li><strong>æ ¹èŠ‚ç‚¹</strong>ï¼š<code>parentIndex == -1</code></li>
</ul>
<h3 id="_8">èŠ‚ç‚¹å…³ç³»<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code>æ ¹èŠ‚ç‚¹ï¼ˆparentIndex = -1ï¼‰
  â”œâ”€ å­èŠ‚ç‚¹1ï¼ˆparentIndex = æ ¹èŠ‚ç‚¹ç´¢å¼•ï¼‰
  â”‚   â”œâ”€ å­™èŠ‚ç‚¹1
  â”‚   â””â”€ å­™èŠ‚ç‚¹2
  â””â”€ å­èŠ‚ç‚¹2
      â””â”€ å­™èŠ‚ç‚¹3</code></pre>
<h2 id="_9">ğŸ’¡ ä½¿ç”¨æŠ€å·§<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<h3 id="1">1. é™åˆ¶éå†æ·±åº¦<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">void Traverse(const NodeData* node, int depth, int maxDepth) {
    if (depth &gt;= maxDepth) return;

    // å¤„ç†èŠ‚ç‚¹...

    // é€’å½’å­èŠ‚ç‚¹
    for (size_t childIdx : node-&gt;children) {
        Traverse(&amp;sceneData-&gt;nodes[childIdx], depth + 1, maxDepth);
    }
}</code></pre>
<h3 id="2">2. åªéå†ç½‘æ ¼èŠ‚ç‚¹<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">reader-&gt;TraverseNodes([](const NodeData* node) {
    if (!node-&gt;meshIndices.empty()) {
        // åªå¤„ç†æœ‰ç½‘æ ¼çš„èŠ‚ç‚¹
        ProcessMeshNode(node);
    }
    return true;
}); </code></pre>
<h3 id="3">3. æŸ¥æ‰¾ç‰¹å®šç±»å‹èŠ‚ç‚¹<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">std::vector&lt;const NodeData*&gt; meshNodes;

reader-&gt;TraverseNodes([&amp;](const NodeData* node) {
    if (!node-&gt;meshIndices.empty()) {
        meshNodes.push_back(node);
    }
    return true;
});</code></pre>
<h3 id="4">4. è®¡ç®—åœºæ™¯æ ‘æ·±åº¦<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-cpp">int CalculateDepth(const NodeData* node, const SceneData* scene) {
    if (node-&gt;children.empty()) {
        return 1;
    }

    int maxChildDepth = 0;
    for (size_t childIdx : node-&gt;children) {
        int childDepth = CalculateDepth(&amp;scene-&gt;nodes[childIdx], scene);
        maxChildDepth = std::max(maxChildDepth, childDepth);
    }

    return maxChildDepth + 1;
}</code></pre>
<h2 id="_10">âš ï¸ æ³¨æ„äº‹é¡¹<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>å¾ªç¯å¼•ç”¨æ£€æµ‹</strong></li>
<li>AMRTæ ¼å¼ä¸åº”æœ‰å¾ªç¯å¼•ç”¨</li>
<li>
<p>ä½†éå†æ—¶å¯ä»¥æ·»åŠ visitedæ£€æŸ¥</p>
</li>
<li>
<p><strong>å¤§å‹åœºæ™¯</strong></p>
</li>
<li>æ•°åƒä¸ªèŠ‚ç‚¹å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´</li>
<li>
<p>è€ƒè™‘é™åˆ¶è¾“å‡ºæ•°é‡</p>
</li>
<li>
<p><strong>å†…å­˜è®¿é—®</strong></p>
</li>
<li><code>children</code>å­˜å‚¨çš„æ˜¯ç´¢å¼•ï¼Œéœ€è¦é€šè¿‡SceneDataè®¿é—®å®é™…èŠ‚ç‚¹</li>
<li>
<p>ç¡®ä¿ç´¢å¼•åœ¨æœ‰æ•ˆèŒƒå›´å†…</p>
</li>
<li>
<p><strong>çº¿ç¨‹å®‰å…¨</strong></p>
</li>
<li>Readerçš„è¯»å–æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„</li>
<li>ä½†éå†è¿‡ç¨‹ä¸­ä¸è¦ä¿®æ”¹åœºæ™¯æ•°æ®</li>
</ol>
<h2 id="_11">ğŸ“š ç›¸å…³ç¤ºä¾‹<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>ç¤ºä¾‹5</strong>ï¼šåŸºç¡€è¯»å–</li>
<li><strong>ç¤ºä¾‹7</strong>ï¼šç½‘æ ¼æ•°æ®è¯¦ç»†è®¿é—®</li>
<li><strong>ç¤ºä¾‹8</strong>ï¼šæè´¨å’Œçº¹ç†è®¿é—®</li>
</ul>
<h2 id="_12">ğŸ› å¸¸è§é—®é¢˜<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h2>
<p><strong>Q: å¦‚ä½•è·å–èŠ‚ç‚¹çš„å®Œæ•´è·¯å¾„ï¼Ÿ</strong><br />
A: é€’å½’å‘ä¸ŠæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹ï¼Œæ‹¼æ¥åç§°ã€‚</p>
<p><strong>Q: å¦‚ä½•ç»Ÿè®¡åœºæ™¯æ ‘çš„æ€»æ·±åº¦ï¼Ÿ</strong><br />
A: ä½¿ç”¨é€’å½’è®¡ç®—æ¯ä¸ªåˆ†æ”¯çš„æ·±åº¦ï¼Œå–æœ€å¤§å€¼ã€‚</p>
<p><strong>Q: TraverseNodesçš„éå†é¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br />
A: æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚</p>
<p><strong>Q: å¦‚ä½•åªéå†æŸä¸ªå­æ ‘ï¼Ÿ</strong><br />
A: å…ˆFindNodeByNameæ‰¾åˆ°èµ·ç‚¹èŠ‚ç‚¹ï¼Œç„¶åæ‰‹åŠ¨é€’å½’éå†ã€‚</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../read_basic/" class="btn btn-neutral float-left" title="åŸºç¡€è¯»å–"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../read_traverse/" class="btn btn-neutral float-right" title="åœºæ™¯éå†">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/skylinestars/AMRTSDK" class="fa fa-code-fork" style="color: #fcfcfc"> skylinestars/AMRTSDK</a>
        </span>
    
    
      <span><a href="../read_basic/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../read_traverse/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
